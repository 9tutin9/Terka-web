<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Customizér dodacích štítků</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    h1 {
      color: #333;
      text-align: center;
      margin-bottom: 30px;
    }
    
    .preview-section {
      display: flex;
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .controls {
      flex: 1;
    }
    
    .preview {
      flex: 1;
      border: 1px solid #ddd;
      padding: 20px;
      background: #f9f9f9;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: #555;
    }
    
    input, select, textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
    }
    
    .color-input {
      width: 60px;
      height: 40px;
      padding: 0;
      border: none;
    }
    
    .size-inputs {
      display: flex;
      gap: 10px;
    }
    
    .size-inputs input {
      flex: 1;
    }
    
    .label-preview {
      width: 200px;
      height: 100px;
      border: 1px solid #000;
      position: relative;
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      margin: 20px auto;
      transform: scale(0.8);
    }
    
    .preview-header {
      background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
      color: white;
      padding: 5px;
      text-align: center;
      font-size: 10px;
      font-weight: bold;
    }
    
    .preview-logo {
      position: absolute;
      top: 2px;
      right: 2px;
      width: 30px;
      height: 30px;
      background: white;
      border: 1px solid #6c5ce7;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 6px;
      color: #6c5ce7;
    }
    
    .preview-address {
      padding: 5px;
      font-size: 8px;
      margin-right: 35px;
    }
    
    .preview-customer {
      font-weight: bold;
      font-size: 9px;
      margin-bottom: 2px;
    }
    
    .preview-address-line {
      margin-bottom: 1px;
      color: #666;
    }
    
    .preview-city-zip {
      font-weight: bold;
      font-size: 8px;
    }
    
    .preview-info {
      position: absolute;
      bottom: 2px;
      right: 2px;
      font-size: 6px;
      color: #666;
      background: rgba(255,255,255,0.8);
      padding: 2px;
      border-radius: 2px;
    }
    
    .buttons {
      text-align: center;
      margin-top: 20px;
    }
    
    button {
      background: #6c5ce7;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      margin: 0 10px;
      font-size: 14px;
    }
    
    button:hover {
      background: #5f3dc4;
    }
    
    .export-section {
      margin-top: 30px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 4px;
    }
    
    textarea {
      width: 100%;
      height: 200px;
      font-family: monospace;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>🎨 Customizér dodacích štítků</h1>
    
    <div class="preview-section">
      <div class="controls">
        <h3>Nastavení štítku</h3>
        
        <div class="form-group">
          <label>Velikost štítku (mm)</label>
          <div class="size-inputs">
            <input type="number" id="width" value="100" placeholder="Šířka">
            <input type="number" id="height" value="50" placeholder="Výška">
          </div>
        </div>
        
        <div class="form-group">
          <label>Hlavní barva</label>
          <input type="color" id="primaryColor" value="#6c5ce7" class="color-input">
        </div>
        
        <div class="form-group">
          <label>Sekundární barva</label>
          <input type="color" id="secondaryColor" value="#a29bfe" class="color-input">
        </div>
        
        <div class="form-group">
          <label>Barva pozadí</label>
          <input type="color" id="backgroundColor" value="#f8f9fa" class="color-input">
        </div>
        
        <div class="form-group">
          <label>Velikost loga (mm)</label>
          <input type="number" id="logoSize" value="16" placeholder="Velikost loga">
        </div>
        
        <div class="form-group">
          <label>Pozice loga</label>
          <select id="logoPosition">
            <option value="top-right">Pravý horní roh</option>
            <option value="top-left">Levý horní roh</option>
            <option value="bottom-right">Pravý dolní roh</option>
            <option value="bottom-left">Levý dolní roh</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Font</label>
          <select id="fontFamily">
            <option value="Arial, sans-serif">Arial</option>
            <option value="Helvetica, sans-serif">Helvetica</option>
            <option value="Georgia, serif">Georgia</option>
            <option value="Times New Roman, serif">Times New Roman</option>
            <option value="Verdana, sans-serif">Verdana</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Text pod logem</label>
          <input type="text" id="logoText" value="Děti dětem" placeholder="Text pod logem">
        </div>
      </div>
      
      <div class="preview">
        <h3>Náhled štítku</h3>
        <div class="label-preview" id="labelPreview">
          <div class="preview-header">DODACÍ ŠTÍTEK - #20250101001</div>
          <div class="preview-logo">
            <div>LOGO</div>
          </div>
          <div class="preview-address">
            <div class="preview-customer">Vojtěch Šenk</div>
            <div class="preview-address-line">Hlavní 268</div>
            <div class="preview-city-zip">74756 Dolní Životice</div>
          </div>
          <div class="preview-info">VS: 7193501961</div>
        </div>
      </div>
    </div>
    
    <div class="buttons">
      <button onclick="updatePreview()">🔄 Aktualizovat náhled</button>
      <button onclick="exportConfig()">📤 Exportovat konfiguraci</button>
      <button onclick="exportTemplate()">📄 Exportovat šablonu</button>
    </div>
    
    <div class="export-section">
      <h3>Exportovaná konfigurace</h3>
      <textarea id="exportOutput" placeholder="Zde se zobrazí exportovaná konfigurace..."></textarea>
    </div>
  </div>

  <script>
    function updatePreview() {
      const width = document.getElementById('width').value;
      const height = document.getElementById('height').value;
      const primaryColor = document.getElementById('primaryColor').value;
      const secondaryColor = document.getElementById('secondaryColor').value;
      const backgroundColor = document.getElementById('backgroundColor').value;
      const logoSize = document.getElementById('logoSize').value;
      const logoPosition = document.getElementById('logoPosition').value;
      const fontFamily = document.getElementById('fontFamily').value;
      const logoText = document.getElementById('logoText').value;
      
      const preview = document.getElementById('labelPreview');
      
      // Aktualizuj velikost
      preview.style.width = (width * 2) + 'px';
      preview.style.height = (height * 2) + 'px';
      
      // Aktualizuj barvy
      preview.style.background = `linear-gradient(135deg, ${backgroundColor} 0%, #e9ecef 100%)`;
      
      const header = preview.querySelector('.preview-header');
      header.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${secondaryColor} 100%)`;
      
      const logo = preview.querySelector('.preview-logo');
      logo.style.borderColor = primaryColor;
      logo.style.color = primaryColor;
      
      // Aktualizuj pozici loga
      logo.style.position = 'absolute';
      if (logoPosition.includes('top')) logo.style.top = '2px';
      if (logoPosition.includes('bottom')) logo.style.bottom = '2px';
      if (logoPosition.includes('left')) logo.style.left = '2px';
      if (logoPosition.includes('right')) logo.style.right = '2px';
      
      // Aktualizuj velikost loga
      logo.style.width = (logoSize * 2) + 'px';
      logo.style.height = (logoSize * 2) + 'px';
      
      // Aktualizuj text loga
      logo.innerHTML = `<div>${logoText}</div>`;
      
      // Aktualizuj font
      preview.style.fontFamily = fontFamily;
    }
    
    function exportConfig() {
      const config = {
        size: {
          width: document.getElementById('width').value + 'mm',
          height: document.getElementById('height').value + 'mm',
          margin: '2mm'
        },
        colors: {
          primary: document.getElementById('primaryColor').value,
          secondary: document.getElementById('secondaryColor').value,
          background: document.getElementById('backgroundColor').value,
          text: '#2d3436',
          textLight: '#636e72'
        },
        logo: {
          size: document.getElementById('logoSize').value + 'mm',
          position: document.getElementById('logoPosition').value,
          text: document.getElementById('logoText').value
        },
        fonts: {
          family: document.getElementById('fontFamily').value
        }
      };
      
      document.getElementById('exportOutput').value = JSON.stringify(config, null, 2);
    }
    
    function exportTemplate() {
      const config = exportConfig();
      const template = generateTemplate(JSON.parse(document.getElementById('exportOutput').value));
      document.getElementById('exportOutput').value = template;
    }
    
    function generateTemplate(config) {
      return `<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Dodací štítek - {{ORDER_NUMBER}}</title>
  <style>
    @page {
      size: ${config.size.width} ${config.size.height};
      margin: ${config.size.margin};
    }
    
    body {
      font-family: ${config.fonts.family};
      font-size: 10px;
      margin: 0;
      padding: 0;
      width: calc(${config.size.width} - ${config.size.margin} * 2);
      height: calc(${config.size.height} - ${config.size.margin} * 2);
      border: 1px solid #000;
      box-sizing: border-box;
      background: linear-gradient(135deg, ${config.colors.background} 0%, #e9ecef 100%);
    }
    
    .label-header {
      background: linear-gradient(135deg, ${config.colors.primary} 0%, ${config.colors.secondary} 100%);
      color: white;
      padding: 3mm;
      border-bottom: 2px solid ${config.colors.primary};
      font-weight: bold;
      text-align: center;
      font-size: 12px;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
    }
    
    .logo-section {
      position: absolute;
      ${config.logo.position.includes('top') ? 'top: 2mm;' : 'bottom: 2mm;'}
      ${config.logo.position.includes('right') ? 'right: 2mm;' : 'left: 2mm;'}
      width: ${config.logo.size};
      height: ${config.logo.size};
      background: white;
      border: 2px solid ${config.colors.primary};
      border-radius: 8px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .logo-section img {
      width: ${config.logo.size};
      height: ${config.logo.size};
      object-fit: contain;
    }
    
    .logo-text {
      font-size: 6px;
      font-weight: bold;
      color: ${config.colors.primary};
      margin-top: 1mm;
    }
    
    .address {
      padding: 3mm;
      line-height: 1.3;
      margin-right: ${config.logo.position.includes('right') ? '22mm' : '0'};
      margin-left: ${config.logo.position.includes('left') ? '22mm' : '0'};
    }
    
    .customer-name {
      font-weight: bold;
      font-size: 12px;
      margin-bottom: 1mm;
      color: ${config.colors.text};
    }
    
    .address-line {
      margin-bottom: 0.5mm;
      color: ${config.colors.textLight};
    }
    
    .city-zip {
      font-weight: bold;
      color: ${config.colors.text};
      font-size: 11px;
    }
    
    .order-info {
      position: absolute;
      bottom: 2mm;
      right: 2mm;
      font-size: 8px;
      color: ${config.colors.textLight};
      background: rgba(255,255,255,0.8);
      padding: 2mm;
      border-radius: 4px;
      border: 1px solid #ddd;
    }
  </style>
</head>
<body>
  <div class="label-header">
    DODACÍ ŠTÍTEK - {{ORDER_NUMBER}}
  </div>
  
  <div class="logo-section">
    <img src="images/detidetem.logo.webp" alt="${config.logo.text}">
    <div class="logo-text">${config.logo.text}</div>
  </div>
  
  <div class="address">
    <div class="customer-name">{{CUSTOMER_NAME}}</div>
    <div class="address-line">{{ADDRESS_LINE}}</div>
    <div class="city-zip">{{ZIP_CODE}} {{CITY}}</div>
  </div>
  
  <div class="order-info">
    VS: {{VARIABLE_SYMBOL}}
  </div>
</body>
</html>`;
    }
    
    // Inicializace
    updatePreview();
  </script>
</body>
</html>
